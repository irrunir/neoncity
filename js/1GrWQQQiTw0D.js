/* By > www.userali.ir */

!function(e){"use strict";var i="countdown";e.JQPlugin.createPlugin({name:i,defaultOptions:{until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:!1,padZeroes:!1,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:!1,onExpiry:null,onTick:null,tickInterval:1},regionalOptions:{"":{labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:!1}},_rtlClass:i+"-rtl",_sectionClass:i+"-section",_amountClass:i+"-amount",_periodClass:i+"-period",_rowClass:i+"-row",_holdingClass:i+"-holding",_showClass:i+"-show",_descrClass:i+"-descr",_timerElems:[],_init:function(){var i=this;this._super(),this._serverSyncs=[];var t="function"==typeof Date.now?Date.now:function(){return(new Date).getTime()},s=window.performance&&"function"==typeof window.performance.now,n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null,o=0;!n||e.noRequestAnimationFrame?(e.noRequestAnimationFrame=null,e.countdown._timer=setInterval((function(){i._updateElems()}),1e3)):(o=window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.oAnimationStartTime||window.msAnimationStartTime||t(),n((function e(r){var a=r<1e12?s?window.performance.now()+window.performance.timing.navigationStart:t():r||t();a-o>=1e3&&(i._updateElems(),o=a),n(e)})))},UTCDate:function(e,i,t,s,n,o,r,a){"object"==typeof i&&i instanceof Date&&(a=i.getMilliseconds(),r=i.getSeconds(),o=i.getMinutes(),n=i.getHours(),s=i.getDate(),t=i.getMonth(),i=i.getFullYear());var l=new Date;return l.setUTCFullYear(i),l.setUTCDate(1),l.setUTCMonth(t||0),l.setUTCDate(s||1),l.setUTCHours(n||0),l.setUTCMinutes((o||0)-(Math.abs(e)<30?60*e:e)),l.setUTCSeconds(r||0),l.setUTCMilliseconds(a||0),l},periodsToSeconds:function(e){return 31557600*e[0]+2629800*e[1]+604800*e[2]+86400*e[3]+3600*e[4]+60*e[5]+e[6]},resync:function(){var i=this;e("."+this._getMarker()).each((function(){var t=e.data(this,i.name);if(t.options.serverSync){for(var s=null,n=0;n<i._serverSyncs.length;n++)if(i._serverSyncs[n][0]===t.options.serverSync){s=i._serverSyncs[n];break}if(i._eqNull(s[2])){var o=e.isFunction(t.options.serverSync)?t.options.serverSync.apply(this,[]):null;s[2]=(o?(new Date).getTime()-o.getTime():0)-s[1]}t._since&&t._since.setMilliseconds(t._since.getMilliseconds()+s[2]),t._until.setMilliseconds(t._until.getMilliseconds()+s[2])}}));for(var t=0;t<i._serverSyncs.length;t++)i._eqNull(i._serverSyncs[t][2])||(i._serverSyncs[t][1]+=i._serverSyncs[t][2],delete i._serverSyncs[t][2])},_instSettings:function(e,i){return{_periods:[0,0,0,0,0,0,0]}},_addElem:function(e){this._hasElem(e)||this._timerElems.push(e)},_hasElem:function(i){return e.inArray(i,this._timerElems)>-1},_removeElem:function(i){this._timerElems=e.map(this._timerElems,(function(e){return e===i?null:e}))},_updateElems:function(){for(var e=this._timerElems.length-1;e>=0;e--)this._updateCountdown(this._timerElems[e])},_optionsChanged:function(i,t,s){s.layout&&(s.layout=s.layout.replace(/&lt;/g,"<").replace(/&gt;/g,">")),this._resetExtraLabels(t.options,s);var n=t.options.timezone!==s.timezone;e.extend(t.options,s),this._adjustSettings(i,t,!this._eqNull(s.until)||!this._eqNull(s.since)||n);var o=new Date;(t._since&&t._since<o||t._until&&t._until>o)&&this._addElem(i[0]),this._updateCountdown(i,t)},_updateCountdown:function(i,t){if(i=i.jquery?i:e(i),t=t||this._getInst(i)){if(i.html(this._generateHTML(t)).toggleClass(this._rtlClass,t.options.isRTL),"pause"!==t._hold&&e.isFunction(t.options.onTick)){var s="lap"!==t._hold?t._periods:this._calculatePeriods(t,t._show,t.options.significant,new Date);1!==t.options.tickInterval&&this.periodsToSeconds(s)%t.options.tickInterval!=0||t.options.onTick.apply(i[0],[s])}if("pause"!==t._hold&&(t._since?t._now.getTime()<t._since.getTime():t._now.getTime()>=t._until.getTime())&&!t._expiring){if(t._expiring=!0,this._hasElem(i[0])||t.options.alwaysExpire){if(this._removeElem(i[0]),e.isFunction(t.options.onExpiry)&&t.options.onExpiry.apply(i[0],[]),t.options.expiryText){var n=t.options.layout;t.options.layout=t.options.expiryText,this._updateCountdown(i[0],t),t.options.layout=n}t.options.expiryUrl&&(window.location=t.options.expiryUrl)}t._expiring=!1}else"pause"===t._hold&&this._removeElem(i[0])}},_resetExtraLabels:function(e,i){var t=null;for(t in i)t.match(/[Ll]abels[02-9]|compactLabels1/)&&(e[t]=i[t]);for(t in e)t.match(/[Ll]abels[02-9]|compactLabels1/)&&void 0===i[t]&&(e[t]=null)},_eqNull:function(e){return null==e},_adjustSettings:function(i,t,s){for(var n=null,o=0;o<this._serverSyncs.length;o++)if(this._serverSyncs[o][0]===t.options.serverSync){n=this._serverSyncs[o][1];break}var r=null,a=null;if(this._eqNull(n)){var l=e.isFunction(t.options.serverSync)?t.options.serverSync.apply(i[0],[]):null;r=new Date,a=l?r.getTime()-l.getTime():0,this._serverSyncs.push([t.options.serverSync,a])}else r=new Date,a=t.options.serverSync?n:0;var _=t.options.timezone;_=this._eqNull(_)?-r.getTimezoneOffset():_,(s||!s&&this._eqNull(t._until)&&this._eqNull(t._since))&&(t._since=t.options.since,this._eqNull(t._since)||(t._since=this.UTCDate(_,this._determineTime(t._since,null)),t._since&&a&&t._since.setMilliseconds(t._since.getMilliseconds()+a)),t._until=this.UTCDate(_,this._determineTime(t.options.until,r)),a&&t._until.setMilliseconds(t._until.getMilliseconds()+a)),t._show=this._determineShow(t)},_preDestroy:function(e,i){this._removeElem(e[0]),e.empty()},pause:function(e){this._hold(e,"pause")},lap:function(e){this._hold(e,"lap")},resume:function(e){this._hold(e,null)},toggle:function(i){this[(e.data(i,this.name)||{})._hold?"resume":"pause"](i)},toggleLap:function(i){this[(e.data(i,this.name)||{})._hold?"resume":"lap"](i)},_hold:function(i,t){var s=e.data(i,this.name);if(s){if("pause"===s._hold&&!t){s._periods=s._savePeriods;var n=s._since?"-":"+";s[s._since?"_since":"_until"]=this._determineTime(n+s._periods[0]+"y"+n+s._periods[1]+"o"+n+s._periods[2]+"w"+n+s._periods[3]+"d"+n+s._periods[4]+"h"+n+s._periods[5]+"m"+n+s._periods[6]+"s"),this._addElem(i)}s._hold=t,s._savePeriods="pause"===t?s._periods:null,e.data(i,this.name,s),this._updateCountdown(i,s)}},getTimes:function(i){var t=e.data(i,this.name);return t?"pause"===t._hold?t._savePeriods:t._hold?this._calculatePeriods(t,t._show,t.options.significant,new Date):t._periods:null},_determineTime:function(e,i){var t=this,s=this._eqNull(e)?i:"string"==typeof e?function(e){e=e.toLowerCase();for(var i=new Date,s=i.getFullYear(),n=i.getMonth(),o=i.getDate(),r=i.getHours(),a=i.getMinutes(),l=i.getSeconds(),_=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g,p=_.exec(e);p;){switch(p[2]||"s"){case"s":l+=parseInt(p[1],10);break;case"m":a+=parseInt(p[1],10);break;case"h":r+=parseInt(p[1],10);break;case"d":o+=parseInt(p[1],10);break;case"w":o+=7*parseInt(p[1],10);break;case"o":n+=parseInt(p[1],10),o=Math.min(o,t._getDaysInMonth(s,n));break;case"y":s+=parseInt(p[1],10),o=Math.min(o,t._getDaysInMonth(s,n))}p=_.exec(e)}return new Date(s,n,o,r,a,l,0)}(e):"number"==typeof e?function(e){var i=new Date;return i.setTime(i.getTime()+1e3*e),i}(e):e;return s&&s.setMilliseconds(0),s},_getDaysInMonth:function(e,i){return 32-new Date(e,i,32).getDate()},_normalLabels:function(e){return e},_generateHTML:function(i){var t=this;i._periods=i._hold?i._periods:this._calculatePeriods(i,i._show,i.options.significant,new Date);var s=!1,n=0,o=i.options.significant,r=e.extend({},i._show),a=null;for(a=0;a<=6;a++)s=s||"?"===i._show[a]&&i._periods[a]>0,r[a]="?"!==i._show[a]||s?i._show[a]:null,n+=r[a]?1:0,o-=i._periods[a]>0?1:0;var l=[!1,!1,!1,!1,!1,!1,!1];for(a=6;a>=0;a--)i._show[a]&&(i._periods[a]?l[a]=!0:(l[a]=o>0,o--));var _=i.options.compact?i.options.compactLabels:i.options.labels,p=i.options.whichLabels||this._normalLabels,c=function(e){var s=i.options["compactLabels"+p(i._periods[e])];return r[e]?t._translateDigits(i,i._periods[e])+(s?s[e]:_[e])+" ":""},u=i.options.padZeroes?2:1,h=function(e){var s=i.options["labels"+p(i._periods[e])];return!i.options.significant&&r[e]||i.options.significant&&l[e]?'<span class="'+t._sectionClass+'"><span class="'+t._amountClass+'">'+t._minDigits(i,i._periods[e],u)+'</span><span class="'+t._periodClass+'">'+(s?s[e]:_[e])+"</span></span>":""};return i.options.layout?this._buildLayout(i,r,i.options.layout,i.options.compact,i.options.significant,l):(i.options.compact?'<span class="'+this._rowClass+" "+this._amountClass+(i._hold?" "+this._holdingClass:"")+'">'+c(0)+c(1)+c(2)+c(3)+(r[4]?this._minDigits(i,i._periods[4],2):"")+(r[5]?(r[4]?i.options.timeSeparator:"")+this._minDigits(i,i._periods[5],2):"")+(r[6]?(r[4]||r[5]?i.options.timeSeparator:"")+this._minDigits(i,i._periods[6],2):""):'<span class="'+this._rowClass+" "+this._showClass+(i.options.significant||n)+(i._hold?" "+this._holdingClass:"")+'">'+h(0)+h(1)+h(2)+h(3)+h(4)+h(5)+h(6))+"</span>"+(i.options.description?'<span class="'+this._rowClass+" "+this._descrClass+'">'+i.options.description+"</span>":"")},_buildLayout:function(i,t,s,n,o,r){for(var a=i.options[n?"compactLabels":"labels"],l=i.options.whichLabels||this._normalLabels,_=function(e){return(i.options[(n?"compactLabels":"labels")+l(i._periods[e])]||a)[e]},p=function(e,t){return i.options.digits[Math.floor(e/t)%10]},c={desc:i.options.description,sep:i.options.timeSeparator,yl:_(0),yn:this._minDigits(i,i._periods[0],1),ynn:this._minDigits(i,i._periods[0],2),ynnn:this._minDigits(i,i._periods[0],3),y1:p(i._periods[0],1),y10:p(i._periods[0],10),y100:p(i._periods[0],100),y1000:p(i._periods[0],1e3),ol:_(1),on:this._minDigits(i,i._periods[1],1),onn:this._minDigits(i,i._periods[1],2),onnn:this._minDigits(i,i._periods[1],3),o1:p(i._periods[1],1),o10:p(i._periods[1],10),o100:p(i._periods[1],100),o1000:p(i._periods[1],1e3),wl:_(2),wn:this._minDigits(i,i._periods[2],1),wnn:this._minDigits(i,i._periods[2],2),wnnn:this._minDigits(i,i._periods[2],3),w1:p(i._periods[2],1),w10:p(i._periods[2],10),w100:p(i._periods[2],100),w1000:p(i._periods[2],1e3),dl:_(3),dn:this._minDigits(i,i._periods[3],1),dnn:this._minDigits(i,i._periods[3],2),dnnn:this._minDigits(i,i._periods[3],3),d1:p(i._periods[3],1),d10:p(i._periods[3],10),d100:p(i._periods[3],100),d1000:p(i._periods[3],1e3),hl:_(4),hn:this._minDigits(i,i._periods[4],1),hnn:this._minDigits(i,i._periods[4],2),hnnn:this._minDigits(i,i._periods[4],3),h1:p(i._periods[4],1),h10:p(i._periods[4],10),h100:p(i._periods[4],100),h1000:p(i._periods[4],1e3),ml:_(5),mn:this._minDigits(i,i._periods[5],1),mnn:this._minDigits(i,i._periods[5],2),mnnn:this._minDigits(i,i._periods[5],3),m1:p(i._periods[5],1),m10:p(i._periods[5],10),m100:p(i._periods[5],100),m1000:p(i._periods[5],1e3),sl:_(6),sn:this._minDigits(i,i._periods[6],1),snn:this._minDigits(i,i._periods[6],2),snnn:this._minDigits(i,i._periods[6],3),s1:p(i._periods[6],1),s10:p(i._periods[6],10),s100:p(i._periods[6],100),s1000:p(i._periods[6],1e3)},u=s,h=0;h<=6;h++){var d="yowdhms".charAt(h),m=new RegExp("\\{"+d+"<\\}([\\s\\S]*)\\{"+d+">\\}","g");u=u.replace(m,!o&&t[h]||o&&r[h]?"$1":"")}return e.each(c,(function(e,i){var t=new RegExp("\\{"+e+"\\}","g");u=u.replace(t,i)})),u},_minDigits:function(e,i,t){return(i=""+i).length>=t?this._translateDigits(e,i):(i="0000000000"+i,this._translateDigits(e,i.substr(i.length-t)))},_translateDigits:function(e,i){return(""+i).replace(/[0-9]/g,(function(i){return e.options.digits[i]}))},_determineShow:function(e){var i=e.options.format,t=[];return t[0]=i.match("y")?"?":i.match("Y")?"!":null,t[1]=i.match("o")?"?":i.match("O")?"!":null,t[2]=i.match("w")?"?":i.match("W")?"!":null,t[3]=i.match("d")?"?":i.match("D")?"!":null,t[4]=i.match("h")?"?":i.match("H")?"!":null,t[5]=i.match("m")?"?":i.match("M")?"!":null,t[6]=i.match("s")?"?":i.match("S")?"!":null,t},_calculatePeriods:function(e,i,t,s){e._now=s,e._now.setMilliseconds(0);var n=new Date(e._now.getTime());e._since?s.getTime()<e._since.getTime()?e._now=s=n:s=e._since:(n.setTime(e._until.getTime()),s.getTime()>e._until.getTime()&&(e._now=s=n));var o=[0,0,0,0,0,0,0];if(i[0]||i[1]){var r=this._getDaysInMonth(s.getFullYear(),s.getMonth()),a=this._getDaysInMonth(n.getFullYear(),n.getMonth()),l=n.getDate()===s.getDate()||n.getDate()>=Math.min(r,a)&&s.getDate()>=Math.min(r,a),_=function(e){return 60*(60*e.getHours()+e.getMinutes())+e.getSeconds()},p=Math.max(0,12*(n.getFullYear()-s.getFullYear())+n.getMonth()-s.getMonth()+(n.getDate()<s.getDate()&&!l||l&&_(n)<_(s)?-1:0));o[0]=i[0]?Math.floor(p/12):0,o[1]=i[1]?p-12*o[0]:0;var c=(s=new Date(s.getTime())).getDate()===r,u=this._getDaysInMonth(s.getFullYear()+o[0],s.getMonth()+o[1]);s.getDate()>u&&s.setDate(u),s.setFullYear(s.getFullYear()+o[0]),s.setMonth(s.getMonth()+o[1]),c&&s.setDate(u)}var h=Math.floor((n.getTime()-s.getTime())/1e3),d=null,m=function(e,t){o[e]=i[e]?Math.floor(h/t):0,h-=o[e]*t};if(m(2,604800),m(3,86400),m(4,3600),m(5,60),m(6,1),h>0&&!e._since){var g=[1,12,4.3482,7,24,60,60],w=6,f=1;for(d=6;d>=0;d--)i[d]&&(o[w]>=f&&(o[w]=0,h=1),h>0&&(o[d]++,h=0,w=d,f=1)),f*=g[d]}if(t)for(d=0;d<=6;d++)t&&o[d]?t--:t||(o[d]=0);return o}})}(jQuery);

/* By > www.userali.ir */