/* By > www.userali.ir */

$((function(t){"use strict";function e(t){if("string"==typeof t)return t.charAt(0).toUpperCase()+t.slice(1)}function i(e,i){this.settings=this.mergeSettings(i),this.form=t(e),this.button=this.form.find(":button"),this.inputs=this.getInputs(),this.alert=null,this.ignored=new Array,this.validated=new Array,this.prepareForm(),this.addEventListeners()}i.prototype={defaults:{preventDefault:!0,autocomplete:"on",sendForm:!0,liveValidation:!0,noValidate:!0,disableSubmitInvalid:!1,inputs:{},formInvalidAlertWarning:"The form has not been completed correctly. Correct marked fields.",requiredMessage:function(t){return e(t+" is required")}},customSettings:{length:["min","max"],range:["min","max"],type:["letters","number","alphanumeric","url","email","date"],hint:!0,regexp:!0,rqmessage:!0},mergeSettings:function(e){return t.extend({},this.defaults,e)},prepareForm:function(){1==this.settings.noValidate&&this.form.attr("noValidate",!0),"off"===this.settings.autocomplete&&this.inputs.forEach((function(t){t.getInput().autocomplete="off"})),this.form.addClass("validation")},getInputs:function(){var e=this.form.find(":input").not('input[type = "submit"]').not("button"),i=new Array;return e.length&&e.each(t.proxy((function(e,n){n=this.extendWithValidation(n);var a=t(n.getInput()).data(),s=this.getHTML5(n);if(!t.isEmptyObject(a)){for(var r in a){if(r.includes("validation"))a[r.replace("validation","").toLowerCase()]=a[r],delete a[r]}for(var o in this.customSettings)if(a.hasOwnProperty(o)){var u={};if(!0===this.customSettings[o])u=a[o];else a[o].split(",").forEach(t.proxy((function(t){if(t.includes(":")){var e=t.split(":");this.customSettings[o].includes(e[0])&&(u[e[0]]=e[1])}else this.customSettings[o].includes(t)&&(u=t)}),this));t.isEmptyObject(u)||(s.hasOwnProperty(o)?s[o]=t.extend(s[o],u):s[o]=u)}}n.getInput().required&&!s.hasOwnProperty("type")&&(s.type=n.getInput().type),t.isEmptyObject(s)||n.setSettings(s),i.push(n)}),this)),i},extendWithValidation:function(e){return{input:e,validationSettings:null,setSettings:function(t){this.validationSettings=t},getInput:function(){return this.input},getName:function(){return t(this.input).data("name")?t(this.input).data("name"):this.input.name}}},getHTML5:function(t){var e={};if(-1!==t.getInput().minLength)var i=t.getInput().minLength;if(-1!==t.getInput().maxLength)var n=t.getInput().maxLength;if(t.getInput().min)var a=t.getInput().min;if(t.getInput().max)var s=t.getInput().max;if(t.getInput().pattern)var r=t.getInput().pattern;return(i||n)&&(e.length={},i&&(e.length.min=i),n&&(e.length.max=n)),(a||s)&&(e.range={},a&&(e.range.min=a),s&&(e.range.max=s)),r&&(e.regexp=r),e},ignore:function(t){this.ignored[t.attr("name")]=t},isEmpty:function(t){if("checkbox"==t.getInput().type||"radio"==t.getInput().type){if(!1===t.getInput().checked)return!0}else if(!t.getInput().value.length)return!0;return!1},custom:function(t){for(var i in t.validationSettings){var n=t.validationSettings[i];switch(i){case"type":switch(n.toLowerCase()){case"password":if(!this.password(t))throw e(t.getName())+" must be at least 8 characters long.";break;case"email":if(!this.email(t))throw"Invalid email address";break;case"url":if(!this.url(t))throw"Invalid url";break;case"alphanumeric":var a=/^[a-z0-9]+$/i;if(!this.checkRegex(t.getInput().value,a))throw"Only letters and numbers allowed.";break;case"number":if(isNaN(t.getInput().value))throw"Not a number.";break;case"letters":a=/^[a-z]+$/i;if(!this.checkRegex(t.getInput().value,a))throw"Only letters allowed"}break;case"range":var s=t.getInput().value;if(!isNaN(s)&&!this.checkRange(s,n.min,n.max)){if(n.min&&n.max)throw e(t.getName())+" must be in range of "+n.min+" and "+n.max+".";if(n.min&&!n.max)throw e(t.getName())+" must be at least "+n.min;if(n.max&&!n.min)throw e(t.getName())+" can be maximum of "+n.max}break;case"length":var r=t.getInput().value.length;if(!this.checkLength(r,n.min,n.max)){if(n.min&&n.max)throw e(t.getName())+" must be between "+n.min+" and "+n.max+" characters long.";if(n.min&&!n.max)throw e(t.getName())+" must be at least "+n.min+" characters long.";if(n.max&&!n.min)throw e(t.getName())+" can be maximum "+n.max+" characters long."}break;case"regexp":if(a=new RegExp(n),!this.checkRegex(t.getInput().value,a))throw"Regexp error"}}},password:function(t){var e=t.getInput().value.length;return this.checkLength(e,8)},email:function(t){var e=t.getInput().value;return this.checkRegex(e,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)},url:function(t){var e=t.getInput().value;return this.checkRegex(e,/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g)},checkLength:function(t,e=0,i){return t&&(t=parseInt(t)),e&&(e=parseInt(e)),i&&(i=parseInt(i)),i?t>=e&&t<=i:t>=e},checkRange:function(t,e,i){return t&&(t=parseInt(t)),e&&(e=parseInt(e)),i&&(i=parseInt(i)),e&&i?t>=e&&t<=i:e&&!i?t>=e:!(i&&!e)||t<=i},checkRegex:function(t,e){return e.test(t)},isInvalid:function(e,i){var n=t(e.getInput()),a=n.next(".error-message");n.addClass("is-invalid"),n.parent("div").addClass("is-invalid"),a.length?a.text(i):(a=t("<div/>",{class:"error-message","data-validation-error-message":n.attr("name"),text:i}),n.after(a))},isValid:function(e){var i=t(e.getInput()),n=i.next(".error-message");i.removeClass("is-invalid"),n.remove()},displayWarningAlert:function(){this.alert||(this.alert=t("<div/>",{class:"alert alert-danger",text:this.settings.formInvalidAlertWarning}),this.form.prepend(this.alert)),t(document.documentElement,document.body).animate({scrollTop:this.alert.offset().top-80},600)},validateForm:function(e){if(this.inputs.length){var i=new Array;this.inputs.forEach(t.proxy((function(t,e){try{var n=this.isEmpty(t);if(n&&t.getInput().required)throw t.validationSettings&&t.validationSettings.rqmessage?t.validationSettings.rqmessage:this.settings.requiredMessage.call(t,t.getName());!n&&t.validationSettings&&this.custom(t)}catch(t){i[e]=t}}),this)),i.length?(this.displayWarningAlert(),!0===this.settings.preventDefault&&e.preventDefault(),!0===this.settings.disableSubmitInvalid&&!0===this.settings.liveValidation&&this.button.attr("disabled",!0)):(this.alert.remove(),!1===this.settings.sendForm&&e.preventDefault()),this.inputs.forEach(t.proxy((function(t,e){i.hasOwnProperty(e)?this.isInvalid(t,i[e]):this.isValid(t)}),this))}},validateInput:function(t){try{var e=this.isEmpty(t);if(e&&t.getInput().required)throw t.validationSettings&&t.validationSettings.rqmessage?t.validationSettings.rqmessage:this.settings.requiredMessage.call(t,t.getName());!e&&t.validationSettings&&this.custom(t)}catch(t){var i=t}i?this.isInvalid(t,i):this.isValid(t)},addEventListeners:function(){this.inputs.forEach(t.proxy((function(e){var i=t(e.getInput());this.settings.liveValidation&&i.on("keyup",t.proxy((function(){this.validateInput(e)}),this)),i.on("focus",(function(){if(e.validationSettings&&e.validationSettings.hint){var n=t("[data-validation-hint-message="+e.getName()+"]");n.length||(n=t("<div/>",{class:"hint-message","data-validation-hint-message":e.getName(),text:e.validationSettings.hint}),i.after(n))}})),i.on("blur",(function(){if(e.validationSettings&&e.validationSettings.hint){var i=t("[data-validation-hint-message="+e.getName()+"]");i.length&&i.remove()}}))}),this))}},t.fn.validation=function(t){if(this.is("form")){var e=new i(this,t);this.on("submit",(function(t){e.validateForm(t)}))}}}));

/* By > www.userali.ir */